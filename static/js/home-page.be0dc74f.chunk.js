(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[1],{59:function(e,t,n){"use strict";n.d(t,"e",(function(){return _})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return h}));var a=n(61),c=n.n(a),r=n(63),i="https://api.themoviedb.org/3/",o="a9b54992442ac9e13eb3826e2749c070";function s(){return u.apply(this,arguments)}function u(){return u=Object(r.a)(c.a.mark((function e(){var t,n,a,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,fetch(t,n);case 4:if(!(a=e.sent).ok){e.next=11;break}return e.next=8,a.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function _(){return s("".concat(i,"trending/movie/day?api_key=").concat(o))}function l(e){return s("".concat(i,"search/movie?api_key=").concat(o,"&query=").concat(e,"&language=en-US&page=1&include_adult=false"))}function b(e){return s("".concat(i,"movie/").concat(e,"?api_key=").concat(o,"&language=en-US"))}function f(e){return s("".concat(i,"movie/").concat(e,"/credits?api_key=").concat(o,"&language=en-US"))}function h(e){return s("".concat(i,"movie/").concat(e,"/reviews?api_key=").concat(o,"&language=en-US"))}},60:function(e,t,n){e.exports={title:"Views_title__2kZeH",titleMovie:"Views_titleMovie__2LJdZ Views_title__2kZeH",titleMovieBlock:"Views_titleMovieBlock__1r1Rb Views_titleMovie__2LJdZ Views_title__2kZeH",button:"Views_button__19bvq",image:"Views_image__3Km4X",wrapper:"Views_wrapper__3LX6C",container:"Views_container__2kyXp",link:"Views_link__258pC",castList:"Views_castList__MpoUB",actorName:"Views_actorName__2vn4u",actorCharacter:"Views_actorCharacter__3XCgr",actorWrapper:"Views_actorWrapper__1kr6p",text:"Views_text__3uM87",authorReviews:"Views_authorReviews__Z7NSe Views_text__3uM87"}},64:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(3),c=n(9),r=n(66),i=n.n(r),o=n(1);function s(e){var t=e.movies,n=Object(a.h)();return Object(o.jsx)("ul",{className:i.a.list,children:t.map((function(e){return Object(o.jsx)("li",{className:i.a.item,children:Object(o.jsx)(c.b,{className:i.a.link,to:{pathname:"movies/".concat(e.id),state:{from:{location:n}}},children:e.title})},e.id)}))})}},66:function(e,t,n){e.exports={link:"MoviesList_link__2mtWz",list:"MoviesList_list__NWnXR",item:"MoviesList_item__1ZQDX"}},68:function(e,t,n){e.exports={searchForm:"Searchbar_searchForm__uRz3O",button:"Searchbar_button__1QGKk",label:"Searchbar_label__3d8PR",input:"Searchbar_input__2kNkx","SearchForm-input":"Searchbar_SearchForm-input__1tTwQ"}},72:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _}));var a=n(58),c=n(0),r=n(64),i=n(60),o=n.n(i),s=n(59),u=n(1);function _(){var e=Object(c.useState)(null),t=Object(a.a)(e,2),n=t[0],i=t[1];return Object(c.useEffect)((function(){Object(s.e)().then((function(e){i(e.results)}))}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{className:o.a.title,children:"Trending today"}),n&&Object(u.jsx)(r.a,{movies:n})]})}},74:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var a=n(71),c=n(58),r=n(65),i=n(0),o=n(3),s=n(59),u=n(15),_=(n(67),n(68)),l=n.n(_),b=n(1);function f(e){var t=e.onSubmit,n=Object(i.useState)(""),a=Object(c.a)(n,2),o=a[0],s=a[1];return Object(b.jsx)("header",{className:l.a.searchbar,children:Object(b.jsxs)("form",{className:l.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),s("")):r.b.info("Enter movie name")},children:[Object(b.jsx)("input",{className:l.a.input,onChange:function(e){s(e.currentTarget.value.toLowerCase())},type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:o}),Object(b.jsx)("button",{type:"submit",className:l.a.button})]})})}var h=n(64);function m(){var e,t=Object(i.useState)(null),n=Object(c.a)(t,2),_=n[0],l=n[1],m=Object(i.useState)(""),j=Object(c.a)(m,2),p=j[0],v=j[1],d=Object(i.useState)(!1),w=Object(c.a)(d,2),O=w[0],g=w[1],x=Object(o.g)(),k=Object(o.h)(),S=null!==(e=new URLSearchParams(k.search).get("query"))&&void 0!==e?e:"";Object(i.useEffect)((function(){p&&(g(!0),Object(s.d)(p).then((function(e){l(e.results),e.results.length||r.b.error("No matches were found! Try again")})).catch((function(e){throw new Error("Something went wrong. Try again!")})).finally((function(){g(!1)})))}),[p]),Object(i.useEffect)((function(){""!==S&&v(S)}),[S]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(f,{onSubmit:function(e){v(e),function(e){x.push(Object(a.a)(Object(a.a)({},k),{},{search:"query=".concat(e)}))}(e)}}),_&&Object(b.jsx)(h.a,{movies:_}),O&&Object(b.jsx)(u.a,{}),Object(b.jsx)(r.a,{autoClose:3e3})]})}}}]);
//# sourceMappingURL=home-page.be0dc74f.chunk.js.map